/***********************************************
	REST API
	CONTROLLER: 	Locations

	Provides a Data Access Object for Querying MongoDB 
	using Mongoose
 ***********************************************/

// CONSTANTS
var TESTING_VERBOSE			= true;
var MODEL_DOCUMENT_SCHEMA 	= 'locations';		// Used to select the MongoDB Model Schema

// Import Utilities
var restUtilities = require('../utilities/utility_rest');


if (TESTING_VERBOSE === true) {	console.log("MODEL_DOCUMENT_SCHEMA: " + MODEL_DOCUMENT_SCHEMA);	}
// Import MongoDB via Mongoose
var mongoose = require('mongoose');
var mongo_model_location = mongoose.model(	MODEL_DOCUMENT_SCHEMA	);


// CREATE
	/*
	 	Returns a response with the following:
	 		- REST Response Status
	 */
	 module.exports.createLocation 	= function(req,res) {
	 	if (TESTING_VERBOSE === true) console.log("Enter controller_locations.createLocation");
	 	// Send a response to the request via the RESPONSE variable of the session
	 	restUtilities.sendJsonResponse(res, '201', { 	status: 'created'	});
	 };

// READ
	/*
	 	Returns a response with the following:
	 		- REST Response Status
	 		- Location Object
	 */
	 module.exports.locationById 	= function(req,res) {
	 	if (TESTING_VERBOSE === true) console.log("Enter controller_locations.getById");

	 	// Search the Location Schema for a Location using the ID provided in the Request Parameters via the URI
	 	mongo_model_location.findById(req.params.locationId).exec(function(err, location) {
	 		console.log("Inside EXEC");
	 		console.log('location: ' + location);
	 		// Send a response to the request via the RESPONSE variable of the session
	 		restUtilities.sendJsonResponse(res, '200', location);
	 	});
	 };

	/*
	 	Returns a response with the following:
	 		- REST Response Status
	 		- Location[] Object
	 */
	 module.exports.listLocationsByDistance = function(req, res) {
	 	if (TESTING_VERBOSE === true) console.log("Enter controller_locations.listLocationsByDistance");
	 	
	 };

// UPDATE
	/*
	 	Returns a response with the following:
	 		- REST Response Status
	 */
	 module.exports.updateById 	= function(req,res) {
	 	if (TESTING_VERBOSE === true) console.log("Enter controller_locations.updateById");
	 };

// DELETE
	/*
	 	Returns a response with the following:
	 		- REST Response Status
	 */
	 module.exports.deleteById 	= function(req,res) {
	 	if (TESTING_VERBOSE === true) console.log("Enter controller_locations.deleteById");
	 };


